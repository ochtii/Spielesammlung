<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Impressum - AUT Quiz</title>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Roboto+Condensed:wght@400;700&display=swap" rel="stylesheet">
    
    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Stylesheet -->
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <nav class="navbar">
        <div class="navbar-content">
            <a href="index.html" class="navbar-brand">
                <i class="fas fa-map-location-dot"></i> AUT Quiz
            </a>
            <div class="navbar-menu">
                <button class="menu-toggle" id="menuToggle" aria-label="Menü" type="button">
                    <i class="fas fa-bars"></i>
                </button>
                <div class="menu-dropdown" id="menuDropdown">
                    <a href="index.html" class="menu-item">
                        <i class="fas fa-home"></i> Zurück zum Spiel
                    </a>
                    <a href="points.html" class="menu-item">
                        <i class="fas fa-coins"></i> Punkte
                    </a>
                    <a href="help.html" class="menu-item">
                        <i class="fas fa-question-circle"></i> Hilfe
                    </a>
                    <a href="faq.html" class="menu-item">
                        <i class="fas fa-circle-question"></i> FAQ
                    </a>
                    <a href="settings.html" class="menu-item">
                        <i class="fas fa-cog"></i> Einstellungen
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <div class="container">
        <!-- Hero Section -->
        <div class="impressum-hero">
            <div class="impressum-icon">
                <i class="fas fa-balance-scale"></i>
            </div>
            <h1>Impressum</h1>
            <p>Rechtliche Informationen und Angaben</p>
        </div>

        <!-- Angaben gemäß TMG -->
        <div class="legal-section">
            <h2><i class="fas fa-info-circle"></i> Angaben gemäß TMG</h2>
            <div class="legal-card">
                <div class="legal-info">
                    <strong>Betreiber:</strong>
                    <p>Österreich Spielesammlung</p>
                </div>
                <div class="legal-info">
                    <strong>Projekttyp:</strong>
                    <p>Open Source Bildungsprojekt</p>
                </div>
                <div class="legal-info">
                    <strong>Repository:</strong>
                    <p>
                        <a href="https://github.com/ochtii/Spielesammlung" target="_blank" rel="noopener">
                            <i class="fab fa-github"></i> github.com/ochtii/Spielesammlung
                        </a>
                    </p>
                </div>
            </div>
        </div>

        <!-- Kontakt -->
        <div class="legal-section">
            <h2><i class="fas fa-envelope"></i> Kontakt</h2>
            <div class="legal-card">
                <p>
                    Für Fragen, Anregungen oder Fehlerberichte verwenden Sie bitte die 
                    <a href="https://github.com/ochtii/Spielesammlung/issues" target="_blank" rel="noopener">
                        GitHub Issues
                    </a> Funktion.
                </p>
            </div>
        </div>

        <!-- Haftungsausschluss -->
        <div class="legal-section">
            <h2><i class="fas fa-exclamation-triangle"></i> Haftungsausschluss</h2>
            
            <div class="legal-card">
                <h3>Haftung für Inhalte</h3>
                <p>
                    Die Inhalte dieser Seiten wurden mit größter Sorgfalt erstellt. Für die Richtigkeit, 
                    Vollständigkeit und Aktualität der Inhalte können wir jedoch keine Gewähr übernehmen. 
                    Als Diensteanbieter sind wir für eigene Inhalte auf diesen Seiten nach den allgemeinen 
                    Gesetzen verantwortlich.
                </p>
            </div>

            <div class="legal-card">
                <h3>Haftung für Links</h3>
                <p>
                    Unser Angebot enthält Links zu externen Webseiten Dritter, auf deren Inhalte wir keinen 
                    Einfluss haben. Deshalb können wir für diese fremden Inhalte auch keine Gewähr übernehmen. 
                    Für die Inhalte der verlinkten Seiten ist stets der jeweilige Anbieter oder Betreiber der 
                    Seiten verantwortlich.
                </p>
            </div>

            <div class="legal-card">
                <h3>Urheberrecht</h3>
                <p>
                    Die durch die Seitenbetreiber erstellten Inhalte und Werke auf diesen Seiten unterliegen 
                    dem deutschen Urheberrecht. Die Vervielfältigung, Bearbeitung, Verbreitung und jede Art 
                    der Verwertung außerhalb der Grenzen des Urheberrechtes bedürfen der schriftlichen 
                    Zustimmung des jeweiligen Autors bzw. Erstellers.
                </p>
            </div>
        </div>

        <!-- Datenschutz -->
        <div class="legal-section">
            <h2><i class="fas fa-shield-alt"></i> Datenschutz</h2>
            <div class="legal-card">
                <h3>Lokale Datenspeicherung</h3>
                <p>
                    Diese Anwendung speichert alle Daten ausschließlich lokal in Ihrem Browser 
                    (LocalStorage). Es werden keine personenbezogenen Daten an externe Server übertragen.
                </p>
                
                <h3>Gespeicherte Daten</h3>
                <ul class="legal-list">
                    <li>Spielfortschritt und Punktestände</li>
                    <li>Einstellungen und Präferenzen</li>
                    <li>Spielhistorie</li>
                </ul>

                <h3>Löschung der Daten</h3>
                <p>
                    Sie können alle gespeicherten Daten jederzeit über die Entwickler-Tools in den 
                    Einstellungen löschen oder durch Löschen des Browser-Caches.
                </p>

                <h3>Externe Ressourcen</h3>
                <p>
                    Diese Seite verwendet externe Ressourcen:
                </p>
                <ul class="legal-list">
                    <li><strong>Font Awesome:</strong> Icons von cdnjs.cloudflare.com</li>
                    <li><strong>Google Fonts:</strong> Schriftarten von fonts.googleapis.com</li>
                    <li><strong>Wikimedia Commons:</strong> Wappen-Bilder von upload.wikimedia.org</li>
                </ul>
                <p>
                    Beim Laden dieser Ressourcen kann Ihre IP-Adresse an die jeweiligen Anbieter 
                    übertragen werden. Bitte beachten Sie die Datenschutzerklärungen der jeweiligen Anbieter.
                </p>
            </div>
        </div>

        <!-- Bildquellen -->
        <div class="legal-section">
            <h2><i class="fas fa-image"></i> Bildquellen</h2>
            <div class="legal-card">
                <p>
                    Alle verwendeten Wappen stammen aus 
                    <a href="https://commons.wikimedia.org" target="_blank" rel="noopener">Wikimedia Commons</a> 
                    und stehen unter freien Lizenzen. Die Wappen sind Eigentum der jeweiligen Bundesländer 
                    und Gemeinden und unterliegen den dort geltenden Rechten.
                </p>
            </div>
        </div>

        <!-- Open Source -->
        <div class="legal-section">
            <h2><i class="fas fa-code-branch"></i> Open Source</h2>
            <div class="legal-card">
                <p>
                    Dieses Projekt ist Open Source und steht unter der MIT-Lizenz. Der vollständige 
                    Quellcode ist auf 
                    <a href="https://github.com/ochtii/Spielesammlung" target="_blank" rel="noopener">GitHub</a> 
                    verfügbar.
                </p>
                <div class="license-box">
                    <h4>MIT License</h4>
                    <p>
                        Permission is hereby granted, free of charge, to any person obtaining a copy of this 
                        software and associated documentation files (the "Software"), to deal in the Software 
                        without restriction, including without limitation the rights to use, copy, modify, merge, 
                        publish, distribute, sublicense, and/or sell copies of the Software.
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- Bottom Navigation -->
    <nav class="bottom-nav" id="bottomNav">
        <div class="bottom-nav-content">
            <a href="index.html" class="bottom-nav-item" data-nav="home">
                <i class="fas fa-home"></i>
                <span>Spiel</span>
            </a>
            <a href="points.html" class="bottom-nav-item" data-nav="points">
                <i class="fas fa-coins"></i>
                <span>Punkte</span>
            </a>
            <a href="help.html" class="bottom-nav-item" data-nav="help">
                <i class="fas fa-circle-info"></i>
                <span>Hilfe</span>
            </a>
            <a href="faq.html" class="bottom-nav-item" data-nav="faq">
                <i class="fas fa-circle-question"></i>
                <span>FAQ</span>
            </a>
            <a href="settings.html" class="bottom-nav-item" data-nav="settings">
                <i class="fas fa-cog"></i>
                <span>Einstellungen</span>
            </a>
        </div>
    </nav>

    <footer class="footer">
        <div class="footer-content">
            <button class="footer-zoom-btn" id="zoomResetBtn">
                <i class="fas fa-search-minus"></i>
                <span>Ansicht auf 100% zurücksetzen</span>
            </button>
            <p id="commitInfo">Version wird geladen...</p>
            
            <div class="footer-links">
                <a href="entwickler.html" class="footer-link">
                    <i class="fas fa-code"></i> Entwickler-Info
                </a>
                <a href="impressum.html" class="footer-link">
                    <i class="fas fa-file-contract"></i> Impressum
                </a>
                <a href="https://github.com/ochtii/Spielesammlung" target="_blank" rel="noopener" class="footer-link">
                    <i class="fab fa-github"></i> GitHub
                </a>
            </div>
            
            <div class="footer-copyright">
                © 2026 Österreich Spielesammlung | Open Source unter MIT-Lizenz
            </div>
        </div>
    </footer>

    <script>
        // Theme laden
        function loadTheme() {
            const theme = localStorage.getItem('theme') || 'light';
            if (theme === 'dark') {
                document.body.classList.add('dark-mode');
            }
        }
        
        // Theme sofort laden (vor DOMContentLoaded)
        loadTheme();
        
        document.addEventListener('DOMContentLoaded', function() {
            setupMenu();
            applyBottomNavSettings();
            initZoomReset();
            loadCommitInfo();
        });

        function setupMenu() {
            const menuToggle = document.getElementById('menuToggle');
            const menuDropdown = document.getElementById('menuDropdown');
            
            if (menuToggle && menuDropdown) {
                menuToggle.addEventListener('click', (e) => {
                    e.preventDefault();
                    e.stopPropagation();
                    menuToggle.classList.toggle('active');
                    menuDropdown.classList.toggle('show');
                });
                
                document.addEventListener('click', (e) => {
                    if (!menuToggle.contains(e.target) && !menuDropdown.contains(e.target)) {
                        menuToggle.classList.remove('active');
                        menuDropdown.classList.remove('show');
                    }
                });
            }
        }

        function initZoomReset() {
            const zoomBtn = document.getElementById('zoomResetBtn');
            if (zoomBtn) {
                zoomBtn.addEventListener('click', () => {
                    const viewport = document.querySelector('meta[name="viewport"]');
                    if (viewport) {
                        viewport.setAttribute('content', 'width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no');
                        setTimeout(() => {
                            viewport.setAttribute('content', 'width=device-width, initial-scale=1.0');
                        }, 100);
                    }
                    zoomBtn.innerHTML = '<i class="fas fa-check"></i><span>Zurückgesetzt!</span>';
                    setTimeout(() => {
                        zoomBtn.innerHTML = '<i class="fas fa-search-minus"></i><span>Ansicht auf 100% zurücksetzen</span>';
                    }, 2000);
                });
            }
        }

        async function loadCommitInfo() {
            const commitInfoEl = document.getElementById('commitInfo');
            
            try {
                const controller = new AbortController();
                const timeout = setTimeout(() => controller.abort(), 5000);
                
                const response = await fetch(
                    'https://api.github.com/repos/ochtii/Spielesammlung/commits?per_page=1',
                    { signal: controller.signal }
                );
                clearTimeout(timeout);
                
                if (!response.ok) throw new Error('API Error');
                
                const data = await response.json();
                if (data.length > 0) {
                    const commit = data[0];
                    const commitDate = new Date(commit.commit.author.date);
                    const options = {
                        year: 'numeric',
                        month: '2-digit',
                        day: '2-digit',
                        hour: '2-digit',
                        minute: '2-digit',
                        timeZone: 'Europe/Vienna'
                    };
                    const formattedDate = new Intl.DateTimeFormat('de-AT', options).format(commitDate);
                    
                    const commitDetailResponse = await fetch(
                        `https://api.github.com/repos/ochtii/Spielesammlung/commits/${commit.sha}`,
                        { signal: controller.signal }
                    );
                    
                    let filesChanged = '';
                    if (commitDetailResponse.ok) {
                        const commitDetail = await commitDetailResponse.json();
                        if (commitDetail.files && commitDetail.files.length > 0) {
                            const fileNames = commitDetail.files.map(f => f.filename).slice(0, 3);
                            filesChanged = fileNames.join(', ');
                            if (commitDetail.files.length > 3) {
                                filesChanged += ` (+${commitDetail.files.length - 3})`;
                            }
                        }
                    }
                    
                    let infoText = `<i class="fas fa-clock"></i> ${formattedDate}`;
                    if (filesChanged) {
                        infoText += ` <span class="footer-separator">|</span> <i class="fas fa-file-code"></i> ${filesChanged}`;
                    }
                    
                    commitInfoEl.innerHTML = infoText;
                    return;
                }
            } catch (error) {
                commitInfoEl.innerHTML = '<i class="fas fa-wifi"></i> Offline';
            }
        }

        function applyBottomNavSettings() {
            const bottomNav = document.getElementById('bottomNav');
            if (!bottomNav) return;

            const enabled = localStorage.getItem('bottomNavEnabled') !== 'false';
            const fixed = localStorage.getItem('bottomNavFixed') !== 'false';
            const size = localStorage.getItem('bottomNavSize') || 'medium';

            bottomNav.style.display = enabled ? 'flex' : 'none';
            
            if (fixed) {
                bottomNav.classList.add('fixed');
            } else {
                bottomNav.classList.remove('fixed');
            }

            bottomNav.classList.remove('size-small', 'size-medium', 'size-large');
            bottomNav.classList.add(`size-${size}`);

            const buttons = {
                'home': localStorage.getItem('bottomNavShowHome') !== 'false',
                'points': localStorage.getItem('bottomNavShowPoints') !== 'false',
                'help': localStorage.getItem('bottomNavShowHelp') !== 'false',
                'faq': localStorage.getItem('bottomNavShowFaq') === 'true',
                'settings': localStorage.getItem('bottomNavShowSettings') !== 'false'
            };

            Object.entries(buttons).forEach(([key, show]) => {
                const item = bottomNav.querySelector(`[data-nav="${key}"]`);
                if (item) {
                    item.style.display = show ? 'flex' : 'none';
                }
            });
        }
    </script>
</body>
</html>
